---
description: Assertion priority and error handling rules
globs: ["**/*.test.js", "**/test/**/*.js", "**/specs/**/*.js"]
alwaysApply: true
---

# Assertion Priority & Error Handling

- **Status Code First**: Always assert status code before other properties
- **Exact Error Matching**: For error cases, use `toEqual()` with exact expected structure
- **Error Structure**: Expect the standard validation error format with key, errorType, and message
- **Type Validation**: Use `expect.any(String)` for dynamic values like IDs